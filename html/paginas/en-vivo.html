<!DOCTYPE html>
<html lang="es">
<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Transmisi√≥n en vivo, chat y cuenta regresiva de carreras F1 en espa√±ol.">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://static.cloudflareinsights.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https://via.placeholder.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://newsdata.io https://cloudflareinsights.com https://cdn.jsdelivr.net; media-src 'self'; frame-src 'self'; form-action 'self'; base-uri 'self'; object-src 'none'; upgrade-insecure-requests">
    <title>En Vivo</title>
    <link rel="icon" href="../../img/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="../../img/Formula-1-Fans-Global3.jpg">
    <link rel="manifest" href="../../manifest.webmanifest">
    <meta name="theme-color" content="#121212">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../css/menu.css">
    <link rel="stylesheet" href="../../css/en-vivo.css">
    <link rel="stylesheet" href="../../css/footer.css">
    <link rel="stylesheet" href="../../css/breadcrumbs.css">
    <link rel="stylesheet" href="../../css/notifications.css">
</head>
<body>
    <!-- Men√∫ de navegaci√≥n -->
    <div id="nav-container"></div>

    <!-- Contenido principal En Vivo -->
    <main id="en-vivo-main" role="main" aria-labelledby="event-title">
        <div class="live-container">
            <!-- Columna izquierda: Info y Contador -->
            <div class="live-sidebar">
                <!-- Banner del evento -->
                <header class="event-banner">
                    <div class="event-info">
                        <div class="event-badge">üèÅ F1 LIVE</div>
                        <h1 id="event-title">PRUEBAS DE PRETEMPORADA</h1>
                        <p id="event-subtitle">PRETEMPORADA 2026</p>
                    </div>
                </header>

                <!-- Contador con estilo moderno -->
                <aside class="countdown-card" aria-label="Cuenta regresiva">
                    <div class="countdown-header">
                        <span class="countdown-icon">‚è±Ô∏è</span>
                        <h2 id="ronda-info">RONDA 0</h2>
                    </div>
                    <div id="contador" class="countdown-display">
                        <div class="time-block">
                            <span id="dias" class="time-value">00</span>
                            <span class="time-label">D√çAS</span>
                        </div>
                        <div class="time-block">
                            <span id="horas" class="time-value">00</span>
                            <span class="time-label">HRS</span>
                        </div>
                        <div class="time-block">
                            <span id="minutos" class="time-value">00</span>
                            <span class="time-label">MIN</span>
                        </div>
                        <div class="time-block">
                            <span id="segundos" class="time-value">00</span>
                            <span class="time-label">SEG</span>
                        </div>
                    </div>
                </aside>

                <!-- Info adicional -->
                <div class="race-info">
                    <div class="info-item">
                        <span class="info-icon">üìç</span>
                        <div class="info-text">
                            <strong>Ubicaci√≥n</strong>
                            <p>Circuito Internacional</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">üèéÔ∏è</span>
                        <div class="info-text">
                            <strong>Categor√≠a</strong>
                            <p>F√≥rmula 1</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Columna derecha: Stream -->
            <div class="live-main">
                <section class="stream-wrapper" aria-label="Transmisi√≥n en vivo">
                    <!-- Indicador EN VIVO flotante -->
                    <div id="live-indicator" class="live-badge-top hidden">
                        <span class="pulse-dot"></span>
                        <span>EN VIVO</span>
                    </div>

                    <div class="stream-container">
                        <img id="pre-image" src="../../img/Pilotos-f1-2025.jpg" alt="Esperando el stream" class="stream-bg" loading="lazy">
                        <video id="live-video" class="stream-video" controls playsinline preload="metadata" poster="../../img/Pilotos-f1-2025.jpg">
                            <source src="../../videos/Presentacion-Pilotos-F1-2025.mp4" type="video/mp4">
                            Tu navegador no soporta el elemento de video.
                        </video>
                        <img id="post-image" src="../../img/Circuitos-Live/Paises-Bajos.PNG" alt="Stream finalizado" class="stream-bg" loading="lazy">

                        <!-- Bot√≥n play central -->
                        <button id="live-button" class="play-button" aria-controls="play-modal">
                            <span class="play-icon">‚ñ∂</span>
                            <span class="live-dot"></span>
                            <span class="play-text">TRANSMISI√ìN EN VIVO</span>
                        </button>
                    </div>
                </section>

                <!-- Chat en vivo -->
                <section class="chat-section hidden" id="live-chat" aria-label="Chat en vivo">
                    <div class="chat-header">
                        <span class="chat-icon">üí¨</span>
                        <h3>Chat en vivo</h3>
                        <span class="online-count" id="online-count">0 en l√≠nea</span>
                    </div>
                    <div class="chat-messages" id="chat-messages">
                        <div class="chat-welcome">
                            <p>¬°Bienvenido al chat! Comparte tu emoci√≥n por la carrera.</p>
                        </div>
                    </div>
                    <form class="chat-input-form" id="chat-form">
                        <input 
                            type="text" 
                            id="chat-username" 
                            placeholder="Tu nombre" 
                            maxlength="20"
                            required
                        >
                        <input 
                            type="text" 
                            id="chat-message" 
                            placeholder="Escribe un mensaje..." 
                            maxlength="200"
                            required
                        >
                        <button type="submit" class="chat-send-btn">
                            <span>Enviar</span>
                        </button>
                    </form>
                </section>
            </div>
        </div>

        <!-- Modal moderno -->
        <div id="play-modal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="play-modal-title" aria-describedby="play-modal-desc">
            <div class="modal-box">
                <button id="close-modal-btn" class="modal-close-btn" aria-label="Cerrar">‚úï</button>
                <div class="modal-header">
                    <h2 id="play-modal-title">üèÅ Opciones de reproducci√≥n</h2>
                    <p id="play-modal-desc">La transmisi√≥n est√° disponible. Elige c√≥mo ver:</p>
                </div>
                <div class="modal-options">
                    <button id="play-live-btn" class="option-card card-live">
                        <span class="option-icon">üî¥</span>
                        <h3>Ver en Vivo</h3>
                        <p>√önete a la transmisi√≥n actual</p>
                    </button>
                    <button id="play-from-start-btn" class="option-card card-start">
                        <span class="option-icon">‚èÆÔ∏è</span>
                        <h3>Desde el Inicio</h3>
                        <p>Ver desde el comienzo</p>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.12/dist/hls.min.js" integrity="sha384-miJUhTuRucSoqFe3/VSB2sRghSMoev6wpPoEyj5fhF0PARehD+naPBsAkl5NqwPO" crossorigin="anonymous"></script>
    <script src="../../js/hls-config.js" defer></script>
    <script src="../../js/menu.js" defer></script>
    <script src="../../js/theme-toggle.js" defer></script>
    <script src="../../js/lazy-images.js" defer></script>
    <script src="../../js/notifications.js" defer></script>
    <script src="../../js/breadcrumbs.js" defer></script>
    <script src="../../js/stream.js" defer></script>
    <script src="../../js/contador.js" defer></script>
    <script src="../../js/chat.js" defer></script>
    <script src="../../js/footer.js" defer></script>
</body>
</html>